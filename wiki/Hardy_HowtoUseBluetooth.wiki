#summary One-sentence summary of this page.
#labels Featured,Phase-Deploy

= Hardy(ubuntu 8.04) 에서 Bluetooth 사용하기 =

블루투스가 내장된 B1H 로 우분투 8.04 Hardy 를 인스톨하여
키보드, 마우스, 헤드셋을 블루투스로 연결하여 테스트 해 보았습니다.

모든 과정은 바탕화면 - 프로그램 - 보조 프로그램 - 터미널 을 이용하여 세팅하였습니다.

= Details =

[ 블루투스 헤드셋 ]

Alsa Plugin 이용하여 블루투스를 활성화합니다.

Configuration

 1. 현재 인스톨되어 있는 bluez-utils 의 버전(bluez-utils-3.16 이상)를 확인합니다.
{{{
 w@w-laptop:~바탕화면$ dpkg -l | grep bluez-utils
 ii bluez-utils                    3.26-0ubuntu6             Bluetooth tools and daemons
}}}

 2. 블루투스 데몬을 확인합니다.
{{{
 w@w-laptop:~바탕화면$ ps -ef | grep -i bluetoothd
 root     5218 5206    0  14:06  ?       00:00:00 /usr/lib/bluetooth/bluetoothd-service-input
 root     5234 5206    0  14:06  ?       00:00:00 /usr/lib/bluetooth/bluetoothd-service-audio
}}}

 3. 블루투스 헤드셋(저의 경우는 SRS-210BS)를 등록 대기상태로 설정합니다.

 4. 블루투스 장비를 scan 합니다.
{{{
 w@w-laptop:~바탕화면$ hcitool scan
 Scanning ...
         01:23:45:67:89:AF     SRS-210BS
}}}

 5. 현재 계정의 홈폴더에 vim 혹은 gedit 를 이용하여 .asoundrc 파일을 아래와 같이 생성합니다.

 w@w-laptop:~바탕화면$ vi ~/.asoundrc
{{{
pcm.bluetooth {
    type bluetooth
    device 01:23:45:67:89:AF <-- scan 한 주소
    profile "auto"
}
}}}

 6. 위와 같이 설정한 후, 다시 각 프로그램 별로 블루투스를 활성화 해 주어야 합니다. 여기서는 Totem, 리듬박스에 대해서만 설정 하겠습니다. 지원되는 플레이어의 목록을 확인하려면 이곳 http://wiki.bluez.org/wiki/HOWTO/AudioDevices#SupportedPlayers 을 방문하세요.

      - 블루투스 활성화
{{{
  w@w-laptop:~바탕화면$ gconftool -t string -s /system/gstreamer/0.10/default/musicaudiosink "alsasink device=bluetooth"
}}}

      - 블루투스 비활성화
{{{
  w@w-laptop:~바탕화면$ gconftool -t string -s /system/gstreamer/0.10/default/musicaudiosink "autoaudiosink"
}}}

 7. 블루투스 헤드셋을 scan 한 후 장치를 처음 등록시에는, 헤드셋을 등록 대기 상태로 한 후 6번에서와 같이 블루투스를 활성화 한 다음, Totem 이나 리듬박스로 미디어를 재생하면, 오른쪽 시계표시 있는 곳의 블루투스 트레이아이콘에 Enter passkey 라는 팝업이 뜨게됩니다. 그 때 해당 블루투스 헤드셋의 비밀번호를 넣으시면 됩니다.

 8. 바탕화면에 6번의 bton(블루투스 활성화), btoff(블루투스 비활성화) 라는 파일을 만든 후, 실행권한을 주어 더블클릭하여 사용하면 편리합니다.

 [ 블루투스 키보드, 블루투스 마우스 ]


 1. 블루투스 헤드셋 설정의 1번 ~ 3번과 동일합니다.

 2. 블루투스 장비를 scan 합니다.
{{{
 w@w-laptop:~바탕화면$ hcitool scan
 Scanning ...
         01:23:45:67:89:AE     Think Outside Keyboard
         01:23:45:67:89:AD     Microsoft Bluetooth Notebook Mouse 5000
}}}

 3. vim 혹은 gedit 를 이용하여 /etc/bluetooth/hcid.conf 파일을 root 권한으로 수정합니다. 맨 아래쪽에 아래와 같은 내용을 추가합니다.
{{{
 w@w-laptop:~바탕화면$ sudo vi /etc/bluetooth/hcid.conf

device KEYBOARD_ADDR {
    name "Think Outside Keyboard";
    auth enable;
    encrypt enable;
}

device MOUSE_ADDR {
    name "Microsoft Bluetooth Notebook Mouse 5000"
}
}}}

 4. 위 설정을 적용하기 위해 블루투스 데몬을 다시 시작합니다.
{{{
 w@w-laptop:~바탕화면$ sudo /etc/init.d/bluetooth restart
 * Restarting bluetooth                                                [ OK ]
}}}

 5. HID device 를 searching 하고, 연결되면 장치를 사용하실수 있습니다.
{{{
 w@w-laptop:~바탕화면$ sudo hidd --search
 Searching ...
       Connecting to device 01:23:45:67:89:AD
}}}